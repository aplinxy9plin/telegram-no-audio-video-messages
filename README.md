# Telegram No Audio/Video Messages

Бот для Telegram, который автоматически удаляет аудио и видео сообщения от определенных пользователей и отправляет им уведомление о том, что их клиент не поддерживает такие типы сообщений(или любую другую строку или ничего).

## Что делает этот бот

- Отслеживает входящие сообщения в Telegram
- Автоматически удаляет аудио и видео сообщения от пользователей из списка `SPAMER_ID`
- Отправляет уведомление: "Клиент этого пользователя не поддерживает видео и аудио сообщения"
- Работает только с приватными сообщениями

## Настройка

### 1. Получение API ключей Telegram

1. Перейдите на https://my.telegram.org/apps
2. Войдите в свой аккаунт Telegram
3. Создайте новое приложение
4. Запишите `api_id` и `api_hash`

### 2. Настройка переменных окружения

Создайте файл `.env` в корне проекта:

```bash
API_ID=ваш_api_id
API_HASH=ваш_api_hash
STRING_SESSION=
```

### 3. Установка зависимостей

```bash
bun install
```

### 4. Первый запуск

```bash
bun run index.ts
```

При первом запуске:
1. Введите номер телефона
2. Введите код подтверждения, который придет в Telegram
3. Если у вас включена двухфакторная аутентификация, введите пароль
4. Скопируйте строку сессии, которая появится в консоли
5. Добавьте эту строку в переменную `STRING_SESSION` в файле `.env`

### 5. Настройка списка пользователей

Отредактируйте массив `SPAMER_ID` в файле `index.ts`:

```typescript
const SPAMER_ID: string[] = ["83856998", "другой_id"];
```

Чтобы получить ID пользователя, включите отображения id в настройках телеграм

## Запуск

После настройки запустите бота:

```bash
bun index.ts
```

## Как это работает

1. Бот подключается к Telegram API
2. Слушает все входящие сообщения
3. Если сообщение от пользователя из списка `SPAMER_ID` содержит медиа (аудио/видео):
   - Удаляет сообщение
   - Отправляет уведомление о том, что клиент не поддерживает такие типы сообщений

## Структура проекта

```
telegram-no-audio-video-messages/
├── index.ts              # Основной код бота
├── types/                # TypeScript типы
│   └── input.d.ts       # Декларация типов для модуля input
├── .env                  # Переменные окружения (создайте сами)
├── package.json          # Зависимости проекта
└── tsconfig.json         # Конфигурация TypeScript
```

## Требования

- [Bun](https://bun.com) - JavaScript runtime
- Telegram аккаунт
- API ключи от Telegram

## Безопасность

- Никогда не делитесь своими API ключами
- Храните файл `.env` в `.gitignore`
- Строка сессии содержит данные для входа в аккаунт - храните её в безопасности

## Устранение проблем

### Ошибка "Could not find a declaration file for module 'input'"
Эта ошибка уже исправлена в проекте. Если она появляется, убедитесь что файл `types/input.d.ts` существует.

### Ошибка подключения к Telegram
- Проверьте правильность `API_ID` и `API_HASH`
- Убедитесь что интернет соединение стабильно
- Попробуйте перезапустить бота

### Бот не удаляет сообщения
- Проверьте что ID пользователя правильно добавлен в `SPAMER_ID`
- Убедитесь что сообщения действительно содержат аудио/видео
- Проверьте что у бота есть права на удаление сообщений в чате
